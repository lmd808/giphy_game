<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="assests/css/reset.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="assests/css/animate.css">
  <link rel="stylesheet" href="assests/css/style.css">
  <title>Get me to the Gif</title>
</head>
<body>
 <div class="container">
   <div class="row">
    <div class="col-sm">
      <!-- heading -->
      <h1>Get me to the Gif</h1>
    </div>
   </div>
   <div class="row">
     <div class="col" id="buttonDiv">
       <!-- where the buttons will go -->
     </div>
   </div>
   <div class="row">
     <div class="col-8-sm fat" id="gifDiv">
       <!-- Gifs Render Here -->
       <!-- where the gifs will go  -->
     </div>
     <div class="col-4-sm " id="sDiv">
       <!-- where my search bar will go -->
       <div class="input-group mb-3">
          <input type="text" class="form-control" id="searchBar"placeholder="Add Gif Button" aria-label="Add gif Button" aria-describedby="button-addon2">
          <div class="input-group-append">
            <button class="btn btn-outline-secondary" type="button" id="searchButton">Add</button>
          </div>
        </div>
     </div>
   </div>
   <div class="row justify-content-center" id="footerDiv">
     <footer>
       <p>copyright &copy;</p>
     </footer>
   </div>
 </div>
  <script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>
  <script   type="text/javascript">

 

var newAnimal = $('#searchBar').val().trim(); 
var animalArray= [];

function renderGif (){
    var newAnimal = $('#searchBar').val().trim(); 
    var queryURL = "https://api.giphy.com/v1/gifs/search?q=" +newAnimal + "&api_key=BkaUZZWcFij6J7AoQj3WtPb1R2p9O6V9&limit=10";

    // "https://api.giphy.com/v1/gifs/random?api_key=BkaUZZWcFij6J7AoQj3WtPb1R2p9O6V9&tag=" + newAnimal;

    console.log(animalArray); 

    $.ajax({
   url: queryURL,
   method: "GET"
   }).then(function(response) {
    var results = response.data; 
    console.log(response); 
    
    for(var i = 0; i< results.length; i++){
      var newGifDiv = $("<div>");

      var animalImage = $("<img>");
      animalImage.attr("src", results[i].images.fixed_height.url);
      animalImage.addClass('images'); 
      newGifDiv.prepend(animalImage);

    $("#gifDiv").append(newGifDiv);
  };  
  });
} 

function renderButtons(){
    // Deleting the movies prior to adding new movies
    // (this is necessary otherwise you will have repeat buttons)
  $("#buttonDiv").empty();

  // Looping through the array of movies
  for (var i = 0; i < animalArray.length; i++) {
console.log(animalArray.length); 
  // Then dynamicaly generating buttons for each movie in the array
  // This code $("<button>") is all jQuery needs to create the beginning and end tag. (<button></button>)
  var animalButton = $("<button>");
  // Adding a class of movie-btn to our button
  animalButton.addClass("animal-button btn btn-dark animated bounceIn margin");
  // Adding a data-attribute
  animalButton.attr("data-name", animalArray[i]);
  // Providing the initial button text
  animalButton.text(animalArray[i]);
  // Adding the button to the buttons-view div
  $("#buttonDiv").append(animalButton);
}
  }

$("#searchButton").on("click", function() {
// event.preventDefault();
// This line grabs the input from the textbox
var newAnimal = $('#searchBar').val().trim(); 
  
// Adding movie from the textbox to our array
animalArray.push(newAnimal);

// Calling renderButtons which handles the processing of our movie array
renderButtons();
});

$(document).on("click", ".animal-button", renderGif);

// renderButtons();







// function displayMovieInfo() {

// var movie = $(this).attr("data-name");
// var queryURL = "https://www.omdbapi.com/?t=" + movie + "&apikey=trilogy";

// // Creating an AJAX call for the specific movie button being clicked
// $.ajax({
//   url: queryURL,
//   method: "GET"
// }).then(function(response) {

//   // Creating a div to hold the movie
//   var movieDiv = $("<div class='movie'>");

//   // Retrieving the URL for the image
//   var imgURL = response.Poster;

//   // Creating an element to hold the image
//   var image = $("<img>").attr("src", imgURL);

//   // Appending the image
//   movieDiv.append(image);

//   // Putting the entire movie above the previous movies
//   $("#movies-view").prepend(movieDiv);
// });

// }

// // Function for displaying movie data
// function renderButtons() {

// // Deleting the movies prior to adding new movies
// // (this is necessary otherwise you will have repeat buttons)
// $("#buttons-view").empty();

// // Looping through the array of movies
// for (var i = 0; i < movies.length; i++) {

//   // Then dynamicaly generating buttons for each movie in the array
//   // This code $("<button>") is all jQuery needs to create the beginning and end tag. (<button></button>)
//   var a = $("<button>");
//   // Adding a class of movie-btn to our button
//   a.addClass("movie-btn");
//   // Adding a data-attribute
//   a.attr("data-name", movies[i]);
//   // Providing the initial button text
//   a.text(movies[i]);
//   // Adding the button to the buttons-view div
//   $("#buttons-view").append(a);
// }
// }

// // This function handles events where a movie button is clicked
// $("#add-movie").on("click", function(event) {
// event.preventDefault();
// // This line grabs the input from the textbox
// var movie = $("#movie-input").val().trim();

// // Adding movie from the textbox to our array
// movies.push(movie);

// // Calling renderButtons which handles the processing of our movie array
// renderButtons();
// });

// // Adding a click event listener to all elements with a class of "movie-btn"
// $(document).on("click", ".movie-btn", displayMovieInfo);

// // Calling the renderButtons function to display the intial buttons
// renderButtons();
  </script>
</body>
</html>